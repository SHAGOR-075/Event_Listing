import{j as e,b as p,c as y,d as u,r as i,a as N,L as h}from"./index-CWOytK02.js";import{C as w}from"./Container-B2IJJ6zG.js";import{B as E}from"./Button-UG-mUu5T.js";import{u as S,f as k}from"./eventStore-DNyPLHkZ.js";const B=({children:t,variant:l="primary",className:r="",...c})=>{const a={primary:"bg-primary-100 text-primary-800",secondary:"bg-secondary-100 text-secondary-800",success:"bg-green-100 text-green-800",danger:"bg-red-100 text-red-800",warning:"bg-yellow-100 text-yellow-800",info:"bg-blue-100 text-blue-800"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a[l]} ${r}`,...c,children:t})},D=()=>{const{id:t}=p(),l=y(),{fetchEventById:r,toggleSaveEvent:c,savedEvents:a,isLoading:b}=S(),{isAuthenticated:o,user:n}=u(),[s,f]=i.useState(null),[m,j]=i.useState(!1);i.useEffect(()=>{(async()=>{try{const x=await r(t);f(x)}catch(x){console.error("Failed to fetch event:",x)}})()},[r,t]),i.useEffect(()=>{a.length>0&&j(a.includes(t))},[a,t]);const v=()=>{o?c(t):l("/login",{state:{from:`/events/${t}`}})},g=s&&o&&(n==null?void 0:n._id)===s.creator;return b||!s?e.jsx(N,{}):e.jsx("div",{className:"py-12",children:e.jsx(w,{children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"relative h-64 md:h-96 bg-gray-200",children:[e.jsx("img",{src:s.image||"https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",alt:s.title,className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:d=>{d.target.onerror=null,d.target.src="https://placehold.co/1200x600/cccccc/333333?text=Event+Image"}}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx(B,{variant:"primary",children:s.category.charAt(0).toUpperCase()+s.category.slice(1)})})]}),e.jsxs("div",{className:"p-6 md:p-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 md:mb-0",children:s.title}),e.jsxs("div",{className:"flex space-x-2",children:[g&&e.jsx(e.Fragment,{children:e.jsxs(h,{to:`/dashboard/edit-event/${s._id}`,className:"btn btn-outline flex items-center",children:[e.jsx("i",{className:"bi bi-pencil mr-1"})," Edit"]})}),e.jsxs(E,{variant:m?"primary":"outline",onClick:v,className:"flex items-center",children:[e.jsx("i",{className:`bi ${m?"bi-bookmark-fill":"bi-bookmark"} mr-1`}),m?"Saved":"Save Event"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-primary-100 text-primary-600 mr-4",children:e.jsx("i",{className:"bi bi-calendar-event text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Date"}),e.jsx("p",{className:"font-medium",children:k(new Date(s.date),"MMMM dd, yyyy")})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-primary-100 text-primary-600 mr-4",children:e.jsx("i",{className:"bi bi-clock text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Time"}),e.jsx("p",{className:"font-medium",children:s.time})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 rounded-full bg-primary-100 text-primary-600 mr-4",children:e.jsx("i",{className:"bi bi-geo-alt text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),e.jsx("p",{className:"font-medium",children:s.location})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"About This Event"}),e.jsx("div",{className:"prose max-w-none text-gray-700",children:e.jsx("p",{children:s.description})})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Share this event"}),e.jsxs("div",{className:"flex space-x-4 mt-2",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-600",children:e.jsx("i",{className:"bi bi-facebook text-xl"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-600",children:e.jsx("i",{className:"bi bi-twitter text-xl"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-600",children:e.jsx("i",{className:"bi bi-linkedin text-xl"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-primary-600",children:e.jsx("i",{className:"bi bi-envelope text-xl"})})]})]}),e.jsxs(h,{to:"/events",className:"btn btn-outline flex items-center justify-center sm:justify-start",children:[e.jsx("i",{className:"bi bi-arrow-left mr-2"}),"Back to Events"]})]})})]})]})})})};export{D as default};
