import{u,r as d,j as e,a as v}from"./index-CWOytK02.js";import{C as y}from"./Container-B2IJJ6zG.js";import{E as f,a as b}from"./EmptyState-BjjxJwVE.js";import{B as h}from"./Button-UG-mUu5T.js";import{S as g}from"./Select-CCXKwBWU.js";import{u as j}from"./eventStore-DNyPLHkZ.js";const N=[{value:"",label:"All Categories"},{value:"music",label:"Music"},{value:"sports",label:"Sports"},{value:"food",label:"Food & Drink"},{value:"arts",label:"Arts & Culture"},{value:"technology",label:"Technology"},{value:"workshops",label:"Workshops"}],E=[{value:"date-asc",label:"Date (Earliest First)"},{value:"date-desc",label:"Date (Latest First)"},{value:"title-asc",label:"Title (A-Z)"},{value:"title-desc",label:"Title (Z-A)"}],S=({onFilter:r})=>{const[l,o]=u(),[s,c]=d.useState({search:l.get("search")||"",category:l.get("category")||"",sort:l.get("sort")||"date-asc"}),n=i=>{const{name:a,value:x}=i.target;c(p=>({...p,[a]:x}))},m=i=>{i.preventDefault();const a=new URLSearchParams;s.search&&a.set("search",s.search),s.category&&a.set("category",s.category),s.sort&&a.set("sort",s.sort),o(a),r(s)},t=()=>{c({search:"",category:"",sort:"date-asc"}),o({}),r({search:"",category:"",sort:"date-asc"})};return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Filter Events"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"bi bi-search text-gray-400"})}),e.jsx("input",{type:"text",id:"search",name:"search",value:s.search,onChange:n,placeholder:"Search events...",className:"pl-10 w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),e.jsx(g,{label:"Category",name:"category",value:s.category,onChange:n,options:N}),e.jsx(g,{label:"Sort By",name:"sort",value:s.sort,onChange:n,options:E})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-2",children:[e.jsx(h,{type:"button",variant:"outline",onClick:t,className:"order-2 sm:order-1",children:"Reset Filters"}),e.jsx(h,{type:"submit",variant:"primary",className:"order-1 sm:order-2",children:"Apply Filters"})]})]})]})},A=()=>{const[r]=u(),{fetchEvents:l,events:o,isLoading:s}=j(),[c,n]=d.useState([]);d.useEffect(()=>{const t=r.get("category")||"",i=r.get("search")||"",a=r.get("sort")||"date-asc";l({category:t,search:i,sort:a})},[l,r]),d.useEffect(()=>{n(o)},[o]);const m=t=>{l(t)};return e.jsx("div",{className:"py-12 bg-gray-50",children:e.jsxs(y,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Event Listings"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Discover and connect with amazing events happening around you."})]}),e.jsx(S,{onFilter:m}),s?e.jsx(v,{}):c.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(t=>e.jsx(f,{event:t},t._id))}):e.jsx(b,{title:"No events found",message:"No events match your current filters. Try adjusting your search criteria."})]})})};export{A as default};
